<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JS 基础-- this | 倪一德的学习小站</title>
    <meta name="description" content="一个用来记录个人学习和工作经验的小站">
    <meta name="generator" content="VuePress 1.4.0">
    
    
    <link rel="preload" href="/vuepress-work/assets/css/0.styles.d71250be.css" as="style"><link rel="preload" href="/vuepress-work/assets/js/app.16e5e3a4.js" as="script"><link rel="preload" href="/vuepress-work/assets/js/2.a40a5535.js" as="script"><link rel="preload" href="/vuepress-work/assets/js/16.7937a346.js" as="script"><link rel="prefetch" href="/vuepress-work/assets/js/10.c2fe89ec.js"><link rel="prefetch" href="/vuepress-work/assets/js/11.17fe0c24.js"><link rel="prefetch" href="/vuepress-work/assets/js/12.dc1522e5.js"><link rel="prefetch" href="/vuepress-work/assets/js/13.e4ce2365.js"><link rel="prefetch" href="/vuepress-work/assets/js/14.e9c1fd1b.js"><link rel="prefetch" href="/vuepress-work/assets/js/15.5b759719.js"><link rel="prefetch" href="/vuepress-work/assets/js/17.4f6577bd.js"><link rel="prefetch" href="/vuepress-work/assets/js/18.5e8512b0.js"><link rel="prefetch" href="/vuepress-work/assets/js/19.c3c52017.js"><link rel="prefetch" href="/vuepress-work/assets/js/20.048f8aa5.js"><link rel="prefetch" href="/vuepress-work/assets/js/21.88733139.js"><link rel="prefetch" href="/vuepress-work/assets/js/22.4d84f926.js"><link rel="prefetch" href="/vuepress-work/assets/js/23.bec09d9f.js"><link rel="prefetch" href="/vuepress-work/assets/js/24.6cc82f8f.js"><link rel="prefetch" href="/vuepress-work/assets/js/25.ff28033c.js"><link rel="prefetch" href="/vuepress-work/assets/js/26.40bf0707.js"><link rel="prefetch" href="/vuepress-work/assets/js/27.b700457a.js"><link rel="prefetch" href="/vuepress-work/assets/js/28.b29e4ef1.js"><link rel="prefetch" href="/vuepress-work/assets/js/29.5101899f.js"><link rel="prefetch" href="/vuepress-work/assets/js/3.0e0e71a2.js"><link rel="prefetch" href="/vuepress-work/assets/js/30.1910969e.js"><link rel="prefetch" href="/vuepress-work/assets/js/31.3d829ede.js"><link rel="prefetch" href="/vuepress-work/assets/js/4.3f64e742.js"><link rel="prefetch" href="/vuepress-work/assets/js/5.d69b7795.js"><link rel="prefetch" href="/vuepress-work/assets/js/6.08958b9a.js"><link rel="prefetch" href="/vuepress-work/assets/js/7.ba43958c.js"><link rel="prefetch" href="/vuepress-work/assets/js/8.d51f4dd6.js"><link rel="prefetch" href="/vuepress-work/assets/js/9.862c191b.js">
    <link rel="stylesheet" href="/vuepress-work/assets/css/0.styles.d71250be.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuepress-work/" class="home-link router-link-active"><!----> <span class="site-name">倪一德的学习小站</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuepress-work/frontend/" class="nav-link router-link-active">
  前端知识
</a></div><div class="nav-item"><a href="/vuepress-work/experience/" class="nav-link">
  工作经验
</a></div><div class="nav-item"><a href="/vuepress-work/interview/" class="nav-link">
  面试题
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="外部网站" class="dropdown-title"><span class="title">外部网站</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://cn.vuejs.org/v2/guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue.js
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vuepress-work/frontend/" class="nav-link router-link-active">
  前端知识
</a></div><div class="nav-item"><a href="/vuepress-work/experience/" class="nav-link">
  工作经验
</a></div><div class="nav-item"><a href="/vuepress-work/interview/" class="nav-link">
  面试题
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="外部网站" class="dropdown-title"><span class="title">外部网站</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://cn.vuejs.org/v2/guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue.js
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/vuepress-work/frontend/" class="sidebar-link">前端相关知识</a></li><li><a href="/vuepress-work/frontend/CSS1.html" class="sidebar-link">CSS-flex 布局</a></li><li><a href="/vuepress-work/frontend/CSS2.html" class="sidebar-link">CSS-grid 布局</a></li><li><a href="/vuepress-work/frontend/JS1.html" class="sidebar-link">JS 基础--数据类型与数据结构</a></li><li><a href="/vuepress-work/frontend/JS2.html" class="sidebar-link">JS 基础--作用域与闭包</a></li><li><a href="/vuepress-work/frontend/JS3.html" class="sidebar-link">JS 基础--原型、面向对象、new</a></li><li><a href="/vuepress-work/frontend/JS4.html" class="sidebar-link">JS 基础--函数式编程</a></li><li><a href="/vuepress-work/frontend/JS5.html" class="sidebar-link">JS 基础--遍历器、生成器、拷贝</a></li><li><a href="/vuepress-work/frontend/JS6.html" class="active sidebar-link">JS 基础-- this</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-work/frontend/JS6.html#this" class="sidebar-link">this</a></li><li class="sidebar-sub-header"><a href="/vuepress-work/frontend/JS6.html#参考出处" class="sidebar-link">参考出处</a></li></ul></li><li><a href="/vuepress-work/frontend/JS7.html" class="sidebar-link">JS 基础--Event Loop</a></li><li><a href="/vuepress-work/frontend/JS8.html" class="sidebar-link">JS 基础--异步编程基础</a></li><li><a href="/vuepress-work/frontend/JS9.html" class="sidebar-link">JS 基础--Promise专题</a></li><li><a href="/vuepress-work/frontend/浏览器1.html" class="sidebar-link">浏览器存储</a></li><li><a href="/vuepress-work/frontend/浏览器2.html" class="sidebar-link">浏览器渲染</a></li><li><a href="/vuepress-work/frontend/浏览器3.html" class="sidebar-link">浏览器安全</a></li><li><a href="/vuepress-work/frontend/浏览器4.html" class="sidebar-link">从输入URL到页面呈现发生了什么</a></li><li><a href="/vuepress-work/frontend/网络1.html" class="sidebar-link">HTTP</a></li><li><a href="/vuepress-work/frontend/网络2.html" class="sidebar-link">TCP/UDP</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="js-基础-this"><a href="#js-基础-this" class="header-anchor">#</a> JS 基础-- this</h1> <p></p><div class="table-of-contents"><ul><li><a href="#this">this</a><ul><li><a href="#前言">前言</a></li><li><a href="#隐式绑定">隐式绑定</a></li><li><a href="#显式绑定">显式绑定</a></li><li><a href="#new-构造函数绑定">new + 构造函数绑定</a></li><li><a href="#window-绑定">window 绑定</a></li><li><a href="#箭头函数">箭头函数 =&gt;</a></li><li><a href="#this-判断流程">this 判断流程</a></li></ul></li><li><a href="#参考出处">参考出处</a></li></ul></div><p></p> <h2 id="this"><a href="#this" class="header-anchor">#</a> this</h2> <h3 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h3> <p><a href="https://juejin.im/post/5b9f176b6fb9a05d3827d03f" target="_blank" rel="noopener noreferrer">理解-JavaScript 中的 this、call、apply 和 bind<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>这篇文章讲解的十分易懂且全面，推荐全文阅读。下面只列出大纲和重要性结论：</p> <ul><li>this 允许复用函数时使用不同的上下文。换句话说，<strong>this 关键字允许在调用函数或方法时决定到底应该关注哪个对象。</strong></li> <li>this 实际上是一个引用。判断 this 引用什么的<strong>唯一</strong>方法就是看<strong>使用 this 关键字的这个方法在哪里被调用</strong>的。</li> <li>this 有四种绑定规则：
<ul><li>隐式绑定</li> <li>显式绑定</li> <li>new + 构造函数绑定</li> <li>window 绑定</li></ul></li></ul> <h3 id="隐式绑定"><a href="#隐式绑定" class="header-anchor">#</a> 隐式绑定</h3> <p>隐式绑定是最常见的绑定规则。</p> <p>隐式绑定规则的主要关键点：</p> <blockquote><p>为了判断 this 关键字的引用，函数在被调用时先看一眼点号<code>.</code>左侧。如果有“点号”那么点号左侧的对象就是 this 的引用。</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;Tyler&quot;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">27</span><span class="token punctuation">,</span>
  <span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  mother<span class="token operator">:</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&quot;Stacey&quot;</span><span class="token punctuation">,</span>
    <span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

user<span class="token punctuation">.</span><span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
user<span class="token punctuation">.</span>mother<span class="token punctuation">.</span><span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//  Tyler</span>
<span class="token comment">//  Stacey</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>每当判断 this 的引用时，都需要查看调用过程，并确认“点号左侧”是什么。<br>
第一个调用，点号左侧是<code>user</code>,因此输出的是<code>user.name</code>也就是<code>Tyler</code>；<br>
第二个调用，点号左侧是<code>mother</code>,因此输出的是<code>mother.name</code>也就是<code>Stacey</code>。</p> <h3 id="显式绑定"><a href="#显式绑定" class="header-anchor">#</a> 显式绑定</h3> <h4 id="call"><a href="#call" class="header-anchor">#</a> call()</h4> <blockquote><p><code>call()</code>是每个函数都有的一个方法，它允许你在调用函数时为函数指定上下文。</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;Tyler&quot;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">27</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">greet</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//  undefined</span>
<span class="token comment">//  27</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>上面的代码中，直接调用<code>greet()</code>会输出<code>undefined</code>。<br>
使用<code>call()</code>显式的将<code>user</code>指定为<code>greet()</code>的上下文，就可以输出<code>user.age</code>也就是<code>27</code>。</p> <p>传递给<code>call()</code>方法的第一个参数会作为函数被调用时的上下文。换句话说，this 将会指向<code>call()</code>的第一个参数。</p> <p><code>call()</code>方法支持参数的传递。从第二个参数开始，将参数一个一个的传入。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">greet</span><span class="token punctuation">(</span><span class="token parameter">lang1<span class="token punctuation">,</span> lang2<span class="token punctuation">,</span> lang3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
    <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello, my name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> and I know </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lang1<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lang2<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, and </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lang3<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;Tyler&quot;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">27</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> languages <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;JavaScript&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Ruby&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Python&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token function">greet</span><span class="token punctuation">(</span>languages<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> languages<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> languages<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">greet</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> languages<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> languages<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> languages<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//  Hello, my name is  and I know JavaScript, Ruby, and Python</span>
<span class="token comment">//  Hello, my name is Tyler and I know JavaScript, Ruby, and Python</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h4 id="apply"><a href="#apply" class="header-anchor">#</a> apply()</h4> <p><code>apply()</code>和<code>call()</code>的功能上是一致的。唯一的区别在于参数的传递方式。</p> <p>正如上文所讲，<code>call()</code>需要将参数一个一个追加到第一个参数的后面，在参数多的情况下有些繁琐。</p> <p><code>apply()</code>支持直接传递参数数组。这样可以让代码更清晰。利用<code>apply()</code>方法，上文中的代码可以改写成：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> languages <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;JavaScript&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Ruby&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Python&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">//  greet.call(user, languages[0], languages[1], languages[2])</span>
<span class="token function">greet</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> languages<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>和作用域不一样，作用域链是按照作用域<strong>创建</strong>的层级进行查找；<br>
this 则是根据<strong>调用</strong>进行确定。this 的指向并不是在创建时就可以确定的。<strong>this 永远指向最后调用它的那个对象</strong>！</p> <h4 id="bind"><a href="#bind" class="header-anchor">#</a> bind()</h4> <p><code>call()</code>和<code>apply()</code>都是一次性使用的方法。如果想要重复的使用绑定特定 this 的方法，可以使用<code>bind()</code>。</p> <p><code>bind()</code>和<code>call()</code>在意义上完全一样，区别在于他们的返回。<br> <code>call()</code>会立即执行函数，而<code>bind()</code>会返回一个能够以后调用的新函数。</p> <p>关于<code>call()</code>、<code>apply()</code>和<code>bind()</code>完整实例如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">greet</span><span class="token punctuation">(</span><span class="token parameter">lang1<span class="token punctuation">,</span> lang2<span class="token punctuation">,</span> lang3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
    <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello, my name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> and I know </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lang1<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lang2<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, and </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lang3<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;Tyler&quot;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">27</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> languages <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;JavaScript&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Ruby&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Python&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> newFn <span class="token operator">=</span> <span class="token function">greet</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> languages<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> languages<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> languages<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">greet</span><span class="token punctuation">(</span>languages<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> languages<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> languages<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">greet</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> languages<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> languages<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> languages<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">greet</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> languages<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">newFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//  Hello, my name is  and I know JavaScript, Ruby, and Python</span>
<span class="token comment">//  Hello, my name is Tyler and I know JavaScript, Ruby, and Python</span>
<span class="token comment">//  Hello, my name is Tyler and I know JavaScript, Ruby, and Python</span>
<span class="token comment">//  Hello, my name is Tyler and I know JavaScript, Ruby, and Python</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="new-构造函数绑定"><a href="#new-构造函数绑定" class="header-anchor">#</a> new + 构造函数绑定</h3> <p>此时构造函数中的 this 指向实例对象。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> me <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;Tyler&quot;</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> you <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;Anderson&quot;</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>me<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>you<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//  User {name: &quot;Tyler&quot;, age: 27}</span>
<span class="token comment">//  User {name: &quot;Anderson&quot;, age: 35}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="window-绑定"><a href="#window-绑定" class="header-anchor">#</a> window 绑定</h3> <p>如果其他规则全都没有满足，那么 this 指向全局 window 对象。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">sayAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">My age is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;Tyler&quot;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">27</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">27</span><span class="token punctuation">;</span>
<span class="token function">sayAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// My age is 27</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>在严格模式下，this 不会默认指向全局 window 对象，会保持为<code>undefined</code>。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>

window<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">27</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">sayAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">My age is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">sayAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// TypeError: Cannot read property 'age' of undefined</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="箭头函数"><a href="#箭头函数" class="header-anchor">#</a> 箭头函数 =&gt;</h3> <p>箭头函数没有 this，因此也不能绑定。箭头函数里面的 this 会指向当前最近的非箭头函数的 this，找不到就是 window(严格模式是 undefined)。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;Tyler&quot;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">a</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">&quot;Anderson&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> <span class="token function-variable function">test</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//  Tyler</span>
<span class="token comment">//  找到最近的非箭头函数a，所以箭头函数的this 就是a 的this。</span>
<span class="token comment">//  a目前是由obj调用的，因此此时箭头函数的this 为obj</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="this-判断流程"><a href="#this-判断流程" class="header-anchor">#</a> this 判断流程</h3> <ol><li>是 new + 构造函数么？是的话指向新建的实例对象;</li> <li>是不是使用了<code>call()</code>、<code>apply()</code>或者<code>bind()</code>？是的话那么就是进行了显式指明;</li> <li>不是以上的，说明是隐式调用。首先查看函数在哪里被调用;</li> <li>是否是箭头函数？箭头函数没有 this，他会指向离他最近的非箭头函数的 this;</li> <li>调用的点号<code>.</code>左侧是否有对象？如果有，它就是 this 的引用;</li> <li>以上全都不是，那么在严格模式下，this 就是<code>undefined</code>；非严格模式下，指向全局 window 对象。</li></ol> <h2 id="参考出处"><a href="#参考出处" class="header-anchor">#</a> 参考出处</h2> <ol><li><a href="https://juejin.im/book/5bdc715fe51d454e755f75ef/section/5bdc715f6fb9a049c15ea4e0" target="_blank" rel="noopener noreferrer">yck 小册<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://juejin.im/post/5dbebbfa51882524c507fddb" target="_blank" rel="noopener noreferrer">神三元-原生 JS(中篇)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://juejin.im/post/59bfe84351882531b730bac2" target="_blank" rel="noopener noreferrer">sunshine 小小倩-this、apply、call、bind<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://juejin.im/post/5b9f176b6fb9a05d3827d03f" target="_blank" rel="noopener noreferrer">子非-理解-JavaScript 中的 this、call、apply 和 bind<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://juejin.im/post/5dc44764f265da4d3d2e4a36" target="_blank" rel="noopener noreferrer">call_me_R-理解 JavaScript 中的 This,Bind,Call 和 Apply<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.runoob.com/w3cnote/js-call-apply-bind.html" target="_blank" rel="noopener noreferrer">菜鸟教程<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/vuepress-work/frontend/JS5.html" class="prev">
        JS 基础--遍历器、生成器、拷贝
      </a></span> <span class="next"><a href="/vuepress-work/frontend/JS7.html">
        JS 基础--Event Loop
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/vuepress-work/assets/js/app.16e5e3a4.js" defer></script><script src="/vuepress-work/assets/js/2.a40a5535.js" defer></script><script src="/vuepress-work/assets/js/16.7937a346.js" defer></script>
  </body>
</html>

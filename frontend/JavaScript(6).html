<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JS 基础知识(6)--异步编程基础 | 倪一德的学习小站</title>
    <meta name="description" content="一个用来记录个人学习和工作经验的小站">
    <meta name="generator" content="VuePress 1.4.0">
    
    
    <link rel="preload" href="/vuepress-work/assets/css/0.styles.d71250be.css" as="style"><link rel="preload" href="/vuepress-work/assets/js/app.10ad3c6a.js" as="script"><link rel="preload" href="/vuepress-work/assets/js/2.a40a5535.js" as="script"><link rel="preload" href="/vuepress-work/assets/js/14.626ac18d.js" as="script"><link rel="prefetch" href="/vuepress-work/assets/js/10.cc07b469.js"><link rel="prefetch" href="/vuepress-work/assets/js/11.236ee041.js"><link rel="prefetch" href="/vuepress-work/assets/js/12.739e4755.js"><link rel="prefetch" href="/vuepress-work/assets/js/13.e3f0b79b.js"><link rel="prefetch" href="/vuepress-work/assets/js/15.c9f30cde.js"><link rel="prefetch" href="/vuepress-work/assets/js/16.247ac08e.js"><link rel="prefetch" href="/vuepress-work/assets/js/17.d9def019.js"><link rel="prefetch" href="/vuepress-work/assets/js/18.3241835a.js"><link rel="prefetch" href="/vuepress-work/assets/js/19.5e931ef2.js"><link rel="prefetch" href="/vuepress-work/assets/js/20.6be40cc3.js"><link rel="prefetch" href="/vuepress-work/assets/js/3.4aae53a0.js"><link rel="prefetch" href="/vuepress-work/assets/js/4.3f64e742.js"><link rel="prefetch" href="/vuepress-work/assets/js/5.d69b7795.js"><link rel="prefetch" href="/vuepress-work/assets/js/6.08958b9a.js"><link rel="prefetch" href="/vuepress-work/assets/js/7.ba43958c.js"><link rel="prefetch" href="/vuepress-work/assets/js/8.d51f4dd6.js"><link rel="prefetch" href="/vuepress-work/assets/js/9.37d4cdd5.js">
    <link rel="stylesheet" href="/vuepress-work/assets/css/0.styles.d71250be.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuepress-work/" class="home-link router-link-active"><!----> <span class="site-name">倪一德的学习小站</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuepress-work/frontend/" class="nav-link router-link-active">
  前端知识
</a></div><div class="nav-item"><a href="/vuepress-work/experience/" class="nav-link">
  工作经验
</a></div><div class="nav-item"><a href="/vuepress-work/interview/" class="nav-link">
  面试题
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="外部网站" class="dropdown-title"><span class="title">外部网站</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://cn.vuejs.org/v2/guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue.js
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vuepress-work/frontend/" class="nav-link router-link-active">
  前端知识
</a></div><div class="nav-item"><a href="/vuepress-work/experience/" class="nav-link">
  工作经验
</a></div><div class="nav-item"><a href="/vuepress-work/interview/" class="nav-link">
  面试题
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="外部网站" class="dropdown-title"><span class="title">外部网站</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://cn.vuejs.org/v2/guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue.js
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/vuepress-work/frontend/" class="sidebar-link">前端相关知识</a></li><li><a href="/vuepress-work/frontend/JavaScript(1).html" class="sidebar-link">JS 基础知识(1)--数据类型</a></li><li><a href="/vuepress-work/frontend/JavaScript(2).html" class="sidebar-link">JS 基础知识(2)--作用域与闭包</a></li><li><a href="/vuepress-work/frontend/JavaScript(3).html" class="sidebar-link">JS 基础知识(3)--原型链、面向对象与函数式编程</a></li><li><a href="/vuepress-work/frontend/JavaScript(4).html" class="sidebar-link">JS 基础知识(4)--其他重要概念</a></li><li><a href="/vuepress-work/frontend/JavaScript(5).html" class="sidebar-link">JS 基础知识(5)--Event Loop</a></li><li><a href="/vuepress-work/frontend/JavaScript(6).html" class="active sidebar-link">JS 基础知识(6)--异步编程基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-work/frontend/JavaScript(6).html#异步编程发展历史" class="sidebar-link">异步编程发展历史</a></li><li class="sidebar-sub-header"><a href="/vuepress-work/frontend/JavaScript(6).html#promise" class="sidebar-link">Promise</a></li><li class="sidebar-sub-header"><a href="/vuepress-work/frontend/JavaScript(6).html#generator-co" class="sidebar-link">Generator/co</a></li><li class="sidebar-sub-header"><a href="/vuepress-work/frontend/JavaScript(6).html#async-await" class="sidebar-link">async/await</a></li><li class="sidebar-sub-header"><a href="/vuepress-work/frontend/JavaScript(6).html#参考出处" class="sidebar-link">参考出处</a></li></ul></li><li><a href="/vuepress-work/frontend/JavaScript(7).html" class="sidebar-link">JS 基础知识(7)--Promise细节</a></li></ul> </aside> <main class="page"> <div class="content__default"><h1 id="js-基础知识-6-异步编程基础"><a href="#js-基础知识-6-异步编程基础" class="header-anchor">#</a> JS 基础知识(6)--异步编程基础</h1> <p></p><div class="table-of-contents"><ul><li><a href="#异步编程发展历史">异步编程发展历史</a><ul><li><a href="#使用回调函数">使用回调函数</a></li><li><a href="#使用promise">使用Promise</a></li><li><a href="#使用generator-co">使用Generator + co</a></li><li><a href="#使用async-await">使用async + await</a></li></ul></li><li><a href="#promise">Promise</a><ul><li><a href="#什么是promise">什么是Promise</a></li><li><a href="#promise-基础用法">Promise 基础用法</a></li><li><a href="#promise-常用方法">Promise 常用方法</a></li><li><a href="#promise-基本使用">Promise 基本使用</a></li></ul></li><li><a href="#generator-co">Generator/co</a></li><li><a href="#async-await">async/await</a><ul><li><a href="#基本概念">基本概念</a></li><li><a href="#错误处理">错误处理</a></li><li><a href="#使用注意点">使用注意点</a></li><li><a href="#await与循环">await与循环</a></li></ul></li><li><a href="#参考出处">参考出处</a></li></ul></div><p></p> <h2 id="异步编程发展历史"><a href="#异步编程发展历史" class="header-anchor">#</a> 异步编程发展历史</h2> <h3 id="使用回调函数"><a href="#使用回调函数" class="header-anchor">#</a> 使用回调函数</h3> <p>回调函数是经典的JS异步实现手段。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'xxx'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>回调函数的最主要问题是在多层回调下会出现回调地狱(Callback hell)。例如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'1.json'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'2.json'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'3.json'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'4.json'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>回调地狱的主要问题在于：</p> <ul><li>可读性、可维护性极差</li> <li>每个回调函数自行维护自己的错误处理，使代码更加混乱</li> <li>耦合性太高，牵一发而动全身</li></ul> <h3 id="使用promise"><a href="#使用promise" class="header-anchor">#</a> 使用Promise</h3> <p>ES6中新添加的语法，能够很好的解决回调地狱的问题，同时合并了错误处理。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">readFilePromise</span><span class="token punctuation">(</span><span class="token string">'1.json'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">readFilePromise</span><span class="token punctuation">(</span><span class="token string">'2.json'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">readFilePromise</span><span class="token punctuation">(</span><span class="token string">'3.json'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">readFilePromise</span><span class="token punctuation">(</span><span class="token string">'4.json'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="使用generator-co"><a href="#使用generator-co" class="header-anchor">#</a> 使用Generator + co</h3> <p>利用协程完成 Generator 函数，用 co 库让代码依次执行完，同时以同步的方式书写，也让异步操作按顺序执行。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">co</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token operator">*</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> r1 <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token function">readFilePromise</span><span class="token punctuation">(</span><span class="token string">'1.json'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> r2 <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token function">readFilePromise</span><span class="token punctuation">(</span><span class="token string">'2.json'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> r3 <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token function">readFilePromise</span><span class="token punctuation">(</span><span class="token string">'3.json'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> r4 <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token function">readFilePromise</span><span class="token punctuation">(</span><span class="token string">'4.json'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="使用async-await"><a href="#使用async-await" class="header-anchor">#</a> 使用async + await</h3> <p>ES7中新添加的关键字。凡事加上async的函数都默认返回一个Promise对象。async + await可以让异步函数书写起来像同步一样：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">readFileAsync</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> f1 <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">readFilePromise</span><span class="token punctuation">(</span><span class="token string">'1.json'</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> f2 <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">readFilePromise</span><span class="token punctuation">(</span><span class="token string">'2.json'</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> f3 <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">readFilePromise</span><span class="token punctuation">(</span><span class="token string">'3.json'</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> f4 <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">readFilePromise</span><span class="token punctuation">(</span><span class="token string">'4.json'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="promise"><a href="#promise" class="header-anchor">#</a> Promise</h2> <h3 id="什么是promise"><a href="#什么是promise" class="header-anchor">#</a> 什么是Promise</h3> <p>Promise 简单来说是一个容器，里面保存着某个未来才会结束的事件(通常是异步事件)的结果。从语法上讲，Promise 是一个对象。</p> <p>Promise对象有两个特点：</p> <ol><li>对象的状态不受外界影响。Promise 对象代表一个异步操作，有三种状态：pending（进行中）、fulfilled（已成功）、rejected（已失败）。只有异步操作的结果可以决定当前是哪一种状态，其他任何行为都无法改变这个状态。</li> <li>一旦状态改变，就固定下来，不会二次改变。Promise 对象只有可能从pending 变为fulfilled 和从pending 变为rejected 两种状态变化方式。一旦发生变化，状态就凝固了，不再发生改变，此时称为resolved（已定型）。</li></ol> <p>为了行文方便，下面文章中的resolved 状态指的都是fulfilled 状态，不包括rejected 状态。</p> <p>Promise也有一些缺点：</p> <ul><li>无法取消Promise</li> <li>必须设置回调函数来捕捉错误</li></ul> <p>Promise 主要是为了解决两个问题：</p> <ul><li>回调地狱</li> <li>多个并发的请求</li></ul> <h3 id="promise-基础用法"><a href="#promise-基础用法" class="header-anchor">#</a> Promise 基础用法</h3> <p>这一部分的详情请见<a href="https://es6.ruanyifeng.com/#docs/promise" target="_blank" rel="noopener noreferrer">阮一峰<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>老师的文章，写的非常详尽，我在这里不再额外赘述，只列出一些重要结论，具体的细节以及代码示意在阮老师的文章中可以更好的学习。</p> <ul><li><p>Promise 对象是一个构造函数，用来生成Promise 实例。</p></li> <li><p>Promise 构造函数接受一个<strong>函数</strong>作为参数，该函数也有两个参数，分别是resolve 和 reject。<br>
resolve 函数的作用是：将Promise 对象的状态从pending 变为 resolved，在异步操作成功时调用，并将异步操作的结果作为参数传递出去;<br>
reject 函数的作用是：将Promise 对象的状态从pending 变为rejected，在异步操作失败时调用，并将异步操作报出的错误，作为函数传递出去。</p></li> <li><p>Promise 实例生成以后，可以使用then 方法分别指定resolved 状态和reject 状态的回调函数。then 方法可以接受<strong>两个回调函数作为参数</strong>。第一个回调函数是Promise 对象变为resolved 时调用，第二个回调函数是Promise 对象变为rejected 时调用。第二个回调函数是可选的，不一定要提供。</p></li> <li><p>请注意，<strong>Promise 新建以后会立即执行</strong></p></li> <li><p>如果调用resolve 函数和reject 函数时带有参数，那么它们的参数会被传递给回调函数。reject 函数的参数通常是Error 对象的实例，表示抛出的错误；resolve 函数的参数除了正常的值以外，还可能是另一个 Promise 实例。这个时候，原Promise 实例的状态由参数Promise 实例的状态决定。</p></li> <li><p>调用resolve 或reject <strong>并不会终结 Promise 的参数函数的执行</strong>。一般来说，调用resolve 或reject 以后，Promise 的使命就完成了，后继操作应该放到then 方法里面，而不应该直接写在resolve 或reject 的后面。所以，最好在它们前面加上return 语句，这样就不会有意外。</p></li></ul> <h3 id="promise-常用方法"><a href="#promise-常用方法" class="header-anchor">#</a> Promise 常用方法</h3> <p>同样的，这一部分<a href="https://es6.ruanyifeng.com/#docs/promise" target="_blank" rel="noopener noreferrer">阮一峰<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>老师的文章中已经写的非常的详尽，我在这里不再额外赘述，只列出大纲以及重要结论，具体的细节在阮老师的文章中可以更好的学习。</p> <p>常用方法主要有下面的几种。<br>
在这些方法中:<br> <code>Promise.prototype.xxx()</code>的方法是Promise 实例所具有的方法；<br> <code>Promise.xxx()</code>会返回一个新的Promise 实例。</p> <ul><li><p><code>Promise.prototype.then()</code></p> <ul><li><code>then</code>的作用是为Promise 实例添加状态改变时的回调函数。它的参数是两个函数，第一个是resolved 状态的回调函数，第二个（可选）是rejected 状态的回调函数。</li> <li><code>then</code>方法返回一个新的Promise 实例（不是原来那个Promise 实例）。因此可以使用<strong>链式写法</strong>，即<code>then</code>方法后面再调用另一个<code>then</code>方法。<strong>第一个回调函数的返回结果会作为参数传入第二个回调函数。</strong></li></ul></li> <li><p><code>Promise.prototype.catch()</code></p> <ul><li><code>catch</code>方法的作用是捕捉并处理错误。也就是说，当Promise 实例的状态变为rejected 时，就会调用<code>catch</code>方法指定的回调函数。</li> <li>不仅如此，如果<code>then</code>方法中的回调函数在运行中发生错误，也会被<code>catch</code>方法捕获。</li> <li>Promise 实例的错误具有<strong>冒泡</strong>性质，会一直向后传递，直到被捕获为止。也就是说，错误总会被下一个<code>catch</code>语句捕获。</li> <li>基于上一条，一个<code>catch</code>方法可能不止处理一个Promise 实例的错误，他需要<strong>处理所有在他前面产生的Promise 实例的错误</strong>（包括<code>then</code>方法中的错误）。</li> <li>一般来说，不要在<code>then</code>方法中定义rejected 状态的回调函数（即<code>then</code>的第二个参数）。<strong>总是使用<code>catch</code>方法来处理错误。</strong></li> <li>一般来说，使用Promise 实例时都要跟上<code>catch</code>方法来处理错误。</li> <li><code>catch</code>方法返回的还是一个Promise 对象，因此还可以继续<code>then</code>。<code>catch</code>也可以抛出错误，被在他后面的<code>catch</code>捕获。</li> <li>如果Promise 实例的错误没有被处理，那么这个Promise 实例的状态会变为rejected；如果错误被<code>catch</code>了，那么会回返回一个新的Promise 实例，这个Promise 实例的状态是resolved（如果没有新的错误）。</li></ul></li> <li><p><code>Promise.prototype.finally()</code></p> <ul><li><code>finally</code>方法用于无论Promise 对象的状态如何，都要执行的操作。</li> <li><code>finally</code>方法的回调函数不接受任何参数。<code>finally</code>方法没有办法知道也不需要知道Promise 实例的执行结果，<strong>写在<code>finally</code>方法中的语句应该是与状态无关的</strong>。</li> <li><code>finally</code>方法总是会返回原来的值。</li></ul></li> <li><p><code>Promise.resolve()</code></p> <ul><li><code>Promise.resolve()</code>方法会返回一个新的 Promise 实例，该实例的状态为resolved。根据<strong>方法参数</strong>的不同，<code>Promise.resolve()</code>的返回不同。</li> <li>当参数是一个Promise 实例，<code>Promise.resolve()</code>不会做任何修改，直接返回该实例。</li> <li>当参数是一个<strong>thenable （具有then 方法）对象</strong>的时候，<code>Promise.resolve()</code>会将该对象转为Promise 实例，然后立即执行<code>then</code> 方法.</li> <li>当参数是一个不具有then 方法的对象或者根本不是对象时，<code>Promise.resolve()</code>会返回一个Promise 实例，状态为resolved。参数会传递到回调函数中。</li> <li>没有参数时，直接返回一个Promise 实例，状态为resolved。</li></ul></li> <li><p><code>Promise.reject()</code></p> <ul><li><code>Promise.reject(reason)</code>方法会返回一个新的 Promise 实例，该实例的状态为rejected.</li> <li><code>Promise.reject()</code>方法的参数，会原封不动地作为reject 的理由，变成后续方法的参数。</li> <li><code>reject</code>方法的作用，等同于抛出错误。</li></ul></li> <li><p><code>Promise.all()</code></p> <ul><li><p><code>Promise.all()</code>用于将多个Promise 实例，包装成一个新的Promise 实例（下文称&quot;包装实例&quot;）。</p></li> <li><p>一般来说，<code>Promise.all()</code>方法接受一个数组作为参数，且数组中的每一项都是一个Promise 实例。如果有数组成员不是Promise 实例，利用<code>Promise.resolve()</code>把它变成Promise 实例。</p></li> <li><p><code>Promise.all()</code>的包装实例状态由参数数组的数组成员的状态决定：</p> <ul><li>只有当<strong>所有数组成员的状态全变成resolved</strong>，包装实例的状态才会变成resolved。此时全部数组成员的返回值组成一个数组，传给包装实例的回调函数。</li> <li>只要<strong>有一个数组成员的状态变成rejected</strong>，包装实例的状态就变成rejected。此时第一个被reject 的实例的返回值会作为参数传递给包装实例的回调函数。</li></ul></li> <li><p>如果作为参数的Promise 实例自己定义了<code>catch</code>方法，那么如果他一旦被rejected，并不会触发<code>Promise.all()</code>的<code>catch</code>方法。如果参数Promise 实例没有定义<code>catch</code>方法，那么会调用<code>Promise.all()</code>的<code>catch</code>方法。</p></li> <li><p><code>Promise.all()</code>的参数可以不是数组，但必须具有Iterator 接口，且返回的每个成员都是 Promise 实例。</p></li></ul></li> <li><p><code>Promise.race()</code></p> <ul><li><code>Promise.race()</code>与<code>Promise.all()</code>类似，用于将多个Promise 实例，包装成一个新的Promise 实例。</li> <li><code>Promise.race()</code>的参数规则也与<code>Promise.all()</code>类似，接受一个以Promise 实例作为数组成员的数组作为参数。</li> <li><code>Promise.race()</code>的包装实例状态是<strong>第一个改变状态的参数Promise 实例的状态</strong>。参数Promise 实例的返回值会传递给包装实例的回调函数。</li></ul></li></ul> <p>最新方法有下面的几种：</p> <ul><li><p><code>Promise.allSettled()</code></p> <ul><li><code>Promise.allSettled()</code>方法接受一组 Promise 实例作为参数，包装成一个新的 Promise 实例。只有等到<strong>所有这些参数实例都返回结果</strong>，不管是fulfilled 还是rejected ，包装实例才会结束。</li> <li><code>Promise.allSettled()</code>方法返回的新的 Promise 实例，一旦结束，状态总是fulfilled，不会变成rejected。</li> <li>状态变成fulfilled 后，包装实例的监听函数接收到的参数是一个数组，每个数组成员对应一个传入<code>Promise.allSettled()</code>的 Promise 实例。</li> <li>有时候，我们<strong>不关心异步操作的结果，只关心这些操作有没有结束</strong>。这种场景下适用<code>Promise.allSettled()</code>方法。</li> <li>ES2020新加入。</li></ul></li> <li><p><code>Promise.any()</code></p> <ul><li>参数实例有一个变成fulfilled 状态，包装实例就会变成fulfilled 状态；如果所有参数实例都变成rejected 状态，包装实例就会变成rejected 状态。</li> <li>仍处于<strong>提案</strong>状态。</li></ul></li> <li><p><code>Promise.try()</code></p> <ul><li>不知道或者不想区分，函数f 是同步函数还是异步操作，但是想用 Promise 来处理它。因为这样就可以不管f 是否包含异步操作，都用then 方法指定下一步流程，用catch 方法处理f抛出的错误。</li> <li>仍处于<strong>提案</strong>状态。</li></ul></li></ul> <h3 id="promise-基本使用"><a href="#promise-基本使用" class="header-anchor">#</a> Promise 基本使用</h3> <p>Promise 最基本的使用方法如下：</p> <ul><li><p>新建一个Promise 对象。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// ... some code</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token comment">/* 异步操作成功 */</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">resolve</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li> <li><p>调用这个Promise 对象的<code>then</code>方法，注册回调函数。回调函数的参数是一个函数，参数函数的参数是Promise 对象的返回值。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>promise
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 处理value</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>注册<code>catch</code>方法用来捕捉并处理前面可能发生的错误。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>promise
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 处理value</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 处理error</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li></ul> <p>以上就是Promise 最基本的使用方法。</p> <h2 id="generator-co"><a href="#generator-co" class="header-anchor">#</a> Generator/co</h2> <p>Generator 生成器函数，在async/await 出现之前可以用来做异步解决方案。一般来说需要配合co 这个第三方库来使用。</p> <p>现在一般已经不使用Generator/co 进行异步编程。推荐使用async/await 方案。</p> <p>Generator 的本质用途是用来实现Iterator 迭代器的，用在异步上是他的一个特殊用途。Generator 的详解可以参考<a href="/vuepress-work/frontend/JavaScript(4).html">这里</a>。</p> <h2 id="async-await"><a href="#async-await" class="header-anchor">#</a> async/await</h2> <p>async/await 被称为 JS 中<strong>异步终极解决方案</strong>。在async 函数中使用await，那么await 这里的代码就会变成同步的，只有等<strong>await 后面的Promise 执行完毕后</strong>才会继续下去。</p> <p>详细内容请参考<a href="https://es6.ruanyifeng.com/#docs/async" target="_blank" rel="noopener noreferrer">阮一峰的async部分<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>内容，这里只记录大纲以及重要性结论。</p> <h3 id="基本概念"><a href="#基本概念" class="header-anchor">#</a> 基本概念</h3> <h4 id="async"><a href="#async" class="header-anchor">#</a> async</h4> <ul><li><strong>async 函数返回一个 Promise 对象</strong>，可以使用then方法添加回调函数。</li> <li>async函数内部抛出错误，会导致<strong>返回的Promise 对象变为rejected 状态</strong>。抛出的错误会被<code>catch</code>方法捕捉到。</li> <li>一般来说，async 函数都需要返回</li></ul> <h4 id="await"><a href="#await" class="header-anchor">#</a> await</h4> <ul><li>在<strong>async函数内部可以使用await命令</strong>，表示等待一个异步函数的返回。<strong>await不能够单独使用</strong>。</li> <li>正常情况下，<strong>await 命令后面是一个Promise 对象，返回该对象的结果</strong>。await 后面的Promise 对象不必写<code>then</code>,因为await 可以<strong>直接获取后面Promise 对象的resolved 状态</strong>传递出来的参数。</li> <li>如果await 命令后面不是Promise 对象，就直接返回对应的值；如果await 命令后面是一个thenable 对象，await会将其等同于Promise 对象。</li></ul> <h3 id="错误处理"><a href="#错误处理" class="header-anchor">#</a> 错误处理</h3> <ul><li>如果await 后面的异步操作出错，那么等同于async 函数返回的Promise 对象被reject，可以被该对象的<code>catch</code>方法捕捉，reject 的参数会传入<code>catch</code>方法。</li> <li>如果一个async 函数中有多个await 语句，任何一个await 语句后面的Promise 对象变为reject 状态，整个async 函数都会中断执行。</li> <li>基于以上，可以<strong>将await 语句放在<code>try...catch</code>结构里面</strong>，这样不会耽误后面的代码执行；或者在await 后面的Promise 对象再跟一个<code>catch</code> 方法，处理错误。</li></ul> <h3 id="使用注意点"><a href="#使用注意点" class="header-anchor">#</a> 使用注意点</h3> <ul><li><p>最好把await 命令放在<code>try...catch</code>代码块中。</p></li> <li><p>多个await 命令后面的异步操作，如果<strong>不存在继发关系，最好让他们同时触发</strong>。同时触发有两种写法：</p> <ul><li>使用<code>Promise.all()</code></li> <li>见代码：</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 写法一</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>foo<span class="token punctuation">,</span> bar<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">await</span> Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">getFoo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">getBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 写法二</span>
<span class="token keyword">let</span> fooPromise <span class="token operator">=</span> <span class="token function">getFoo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> barPromise <span class="token operator">=</span> <span class="token function">getBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> foo <span class="token operator">=</span> <span class="token keyword">await</span> fooPromise<span class="token punctuation">;</span>
<span class="token keyword">let</span> bar <span class="token operator">=</span> <span class="token keyword">await</span> barPromise<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li> <li><p>async 函数可以保留运行堆栈.</p></li></ul> <h3 id="await与循环"><a href="#await与循环" class="header-anchor">#</a> await与循环</h3> <ul><li>对于异步代码，<strong>forEach 并不能保证按顺序执行</strong>。</li> <li>想要在循环中使用await ，需要<strong>使用<code>for... of</code> 语句</strong>。</li></ul> <p>解决原理——Iterator</p> <h2 id="参考出处"><a href="#参考出处" class="header-anchor">#</a> 参考出处</h2> <ol><li><a href="https://es6.ruanyifeng.com/#docs/promise" target="_blank" rel="noopener noreferrer">阮一峰ES6教程-Promise<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://es6.ruanyifeng.com/#docs/async" target="_blank" rel="noopener noreferrer">阮一峰ES6教程-async<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://juejin.im/book/5bdc715fe51d454e755f75ef/section/5bdc7198518825171726cfce" target="_blank" rel="noopener noreferrer">掘金yck小册<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://juejin.im/post/5dd8b3a851882572f56b578f#heading-30" target="_blank" rel="noopener noreferrer">神三元掘金文章-原生JS(下篇)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://juejin.im/post/5e3b9ae26fb9a07ca714a5cc" target="_blank" rel="noopener noreferrer">写代码像蔡徐抻的掘金文章-异步编程二三事<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://juejin.im/post/5afe6d3bf265da0b9e654c4b" target="_blank" rel="noopener noreferrer">蔓蔓雒轩的掘金文章-通俗易懂的Promise<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://juejin.im/post/597724c26fb9a06bb75260e8" target="_blank" rel="noopener noreferrer">艾特老干部的掘金文章-八段代码彻底掌握Promise<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://juejin.im/post/5b31a4b7f265da595725f322" target="_blank" rel="noopener noreferrer">lucefer的掘金文章-面试精选之Promise<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://juejin.im/post/5a04066351882517c416715d" target="_blank" rel="noopener noreferrer">石墨文档的掘金文章-Promise 必知必会<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://juejin.im/post/596e142d5188254b532ce2da" target="_blank" rel="noopener noreferrer">陈惠超的掘金文章-理解 async/await<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://juejin.im/post/5b1ffff96fb9a01e345ba704" target="_blank" rel="noopener noreferrer">大Y的掘金文章-一次性让你懂async/await<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://juejin.im/post/5a9516885188257a6b061d72" target="_blank" rel="noopener noreferrer">limingru的掘金文章-与Promise血脉相连的async/await<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/vuepress-work/frontend/JavaScript(5).html" class="prev">
        JS 基础知识(5)--Event Loop
      </a></span> <span class="next"><a href="/vuepress-work/frontend/JavaScript(7).html">
        JS 基础知识(7)--Promise细节
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/vuepress-work/assets/js/app.10ad3c6a.js" defer></script><script src="/vuepress-work/assets/js/2.a40a5535.js" defer></script><script src="/vuepress-work/assets/js/14.626ac18d.js" defer></script>
  </body>
</html>
